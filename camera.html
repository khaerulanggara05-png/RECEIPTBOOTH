<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Camera</title></head>
<body style="background:#000;color:white;text-align:center">
<h1>Countdown</h1>
<h2 id="cd">3</h2>
<video id="cam" autoplay playsinline width="300"></video>
<br>
<button onclick="capture()">CAPTURE</button>
<script src="system.js"></script>
<script>
const cd=document.getElementById('cd');let c=3;
setInterval(()=>{c--;cd.innerText=c;if(c==0)cd.innerText='ðŸ“¸';},1000)

navigator.mediaDevices.getUserMedia({video:true}).then(s=>cam.srcObject=s)

function capture(){
 const canvas=document.createElement('canvas');
 canvas.width=300;canvas.height=400;
 const ctx=canvas.getContext('2d');
 ctx.drawImage(cam,0,0,300,400);
 const img=canvas.toDataURL('image/png');
 updateTransaction({photo:img}); location.href='frame.html';
}
</script>
</body></html>
